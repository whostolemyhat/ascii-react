!function(r){function e(o){if(t[o])return t[o].exports;var a=t[o]={exports:{},id:o,loaded:!1};return r[o].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var t={};return e.m=r,e.c=t,e.p="/",e(0)}([function(r,e){"use strict";function t(r,e){var t=Math.floor(.3*r.r+.3*r.b+.3*r.g);return Math.floor((255-t)*(e/256))}Object.defineProperty(e,"__esModule",{value:!0}),e.pixelToChar=t;var o=function(r,e){if(null==e||1>e)return[];for(var t=[],o=r.length,a=0;o>a;)t.push(Array.prototype.slice.call(r,a,a+=e));return t},a=e.charMap=["@","#","%","x","o",";",":",",","."];self.onmessage=function(r){var e=r.data[0],n=r.data[1],s=n.resolution>0?Math.ceil(n.resolution):1;n.invert&&a.reverse();for(var l=4,u=e.width*l,i=100/e.height,p=o(e.data,u),c=p.length,f="",v=0;c>v;v+=s){for(var g=0;g<p[v].length;g+=l*s){var h={};h.r=p[v][g],h.g=p[v][g+1],h.b=p[v][g+2],h.a=p[v][g+3];var d=a[t(h,a.length)];n.colour&&(d='<span style="color:rgb('+h.r+", "+h.g+", "+h.b+')">'+d+"</span>"),f+=d}f+="\r\n",postMessage({type:"progress",value:v*i*s})}postMessage({type:"result",value:f})},e.AsciiWorker=self}]);